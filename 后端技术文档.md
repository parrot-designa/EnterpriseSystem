# ä¼ä¸šç³»ç»Ÿåç«¯æŠ€æœ¯æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**ï¼šEnterprise Systemï¼ˆä¼ä¸šç³»ç»Ÿï¼‰

**é¡¹ç›®ç±»å‹**ï¼šå¤šæ¨¡å— Maven ä¼ä¸šåº”ç”¨

**æŠ€æœ¯æ¶æ„**ï¼šSpring Boot 2.7.18 + Spring Cloud + Nacos + MyBatis + MySQL 8.0

**é¡¹ç›®å®šä½**ï¼šä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¾®æœåŠ¡æ¶æ„

---

## ğŸ”§ ä¸€ã€ç¯å¢ƒè¦æ±‚

### 1.1 å¼€å‘ç¯å¢ƒ

| ç»„ä»¶ | ç‰ˆæœ¬è¦æ±‚ | æ¨èç‰ˆæœ¬ | è¯´æ˜ |
|------|---------|---------|------|
| **JDK** | 1.8 | 1.8.0_xxx | Java å¼€å‘å·¥å…·åŒ… |
| **Maven** | â‰¥ 3.6.0 | â‰¥ 3.8.0 | é¡¹ç›®æ„å»ºå·¥å…· |
| **IDE** | IDEA 2020+ / Eclipse | IntelliJ IDEA | æ¨èä½¿ç”¨ IDEA |
| **MySQL** | 8.0.x | 8.0.26 | å…³ç³»å‹æ•°æ®åº“ |
| **Nacos** | 2.x | 2.0.3+ | æœåŠ¡å‘ç°å’Œé…ç½®ä¸­å¿ƒ |

#### âœ… å¦‚ä½•æ£€æŸ¥ç¯å¢ƒç‰ˆæœ¬

```bash
# æ£€æŸ¥ Java ç‰ˆæœ¬
java -version

# æ£€æŸ¥ Maven ç‰ˆæœ¬
mvn -v

# æ£€æŸ¥ MySQL ç‰ˆæœ¬
mysql --version

# æ£€æŸ¥ Nacos çŠ¶æ€
curl http://localhost:8848/nacos/
```

#### âš™ï¸ å®‰è£… JDK 8

**æ–¹å¼ 1ï¼šä½¿ç”¨åŒ…ç®¡ç†å™¨ï¼ˆæ¨è macOS/Linuxï¼‰**

```bash
# macOS (ä½¿ç”¨ Homebrew)
brew install --cask temurin@8

# éªŒè¯å®‰è£…
java -version
```

**æ–¹å¼ 2ï¼šä»å®˜ç½‘ä¸‹è½½**

- è®¿é—® [Oracle JDK](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html)
- æˆ–ä½¿ç”¨ [OpenJDK](https://adoptium.net/)ï¼ˆæ¨èï¼‰
- ä¸‹è½½ JDK 8 å¹¶å®‰è£…

**é…ç½® JAVA_HOME ç¯å¢ƒå˜é‡**

```bash
# macOS / Linux
echo 'export JAVA_HOME=/Library/Java/JavaVirtualMachines/temurin-8.jdk/Contents/Home' >> ~/.zshrc
echo 'export PATH=$JAVA_HOME/bin:$PATH' >> ~/.zshrc
source ~/.zshrc

# Windows
# 1. å³é”®"æ­¤ç”µè„‘" â†’ å±æ€§ â†’ é«˜çº§ç³»ç»Ÿè®¾ç½® â†’ ç¯å¢ƒå˜é‡
# 2. æ–°å»ºç³»ç»Ÿå˜é‡ JAVA_HOMEï¼Œå€¼ä¸º JDK å®‰è£…è·¯å¾„
# 3. ç¼–è¾‘ Path å˜é‡ï¼Œæ·»åŠ  %JAVA_HOME%\bin
```

#### âš™ï¸ å®‰è£… Maven

```bash
# macOS (ä½¿ç”¨ Homebrew)
brew install maven

# éªŒè¯å®‰è£…
mvn -v
```

---

### 1.2 è¿è¡Œç¯å¢ƒ

| ç»„ä»¶ | ç‰ˆæœ¬ | ç«¯å£ | è¯´æ˜ |
|------|------|------|------|
| **MySQL** | 8.0.26 | 3306 | æ•°æ®åº“æœåŠ¡ |
| **Nacos Server** | 2.x | 8848 | é…ç½®ä¸­å¿ƒå’ŒæœåŠ¡å‘ç° |
| **åº”ç”¨æœåŠ¡** | Spring Boot | 8080 | åç«¯åº”ç”¨æœåŠ¡ |

---

## ğŸ“š äºŒã€æŠ€æœ¯æ ˆè¯¦è§£

### 2.1 æ ¸å¿ƒæ¡†æ¶

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **Spring Boot** | 2.7.18 | åŸºç¡€æ¡†æ¶ï¼Œç®€åŒ– Spring å¼€å‘ |
| **Spring Cloud** | 2021.0.5 | å¾®æœåŠ¡æ¡†æ¶ |
| **Spring Cloud Alibaba** | 2021.0.5.0 | é˜¿é‡Œå·´å·´å¾®æœåŠ¡ç»„ä»¶ |

### 2.2 æ•°æ®æŒä¹…å±‚

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **MyBatis** | 3.5.x (é€šè¿‡ mybatis-spring-boot-starter 2.3.1) | ORM æ¡†æ¶ |
| **MySQL Connector** | 8.0.26 | MySQL é©±åŠ¨ |
| **Lombok** | æœ€æ–°ç‰ˆ | ç®€åŒ– Java ä»£ç  |

### 2.3 æœåŠ¡æ²»ç†

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **Nacos Config** | 2021.0.5.0 | é…ç½®ä¸­å¿ƒ |
| **Nacos Discovery** | 2021.0.5.0 | æœåŠ¡æ³¨å†Œä¸å‘ç° |
| **Spring Cloud Bootstrap** | - | å¯åŠ¨æ—¶åŠ è½½ Nacos é…ç½® |

### 2.4 å·¥å…·åº“

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **Apache Commons Lang3** | 3.19.0 | Java å·¥å…·ç±»åº“ |

---

## ğŸ—ï¸ ä¸‰ã€é¡¹ç›®æ¶æ„

### 3.1 æ¨¡å—ç»“æ„

```
Enterprise System (çˆ¶é¡¹ç›®)
â”œâ”€â”€ babystart          â† å¯åŠ¨æ¨¡å—
â”‚   â”œâ”€â”€ ä½œç”¨ï¼šåº”ç”¨å…¥å£ï¼Œèšåˆæ‰€æœ‰æ¨¡å—
â”‚   â”œâ”€â”€ ç«¯å£ï¼š8080
â”‚   â””â”€â”€ ä¾èµ–ï¼šbabysecure, babymain, babycommon
â”‚
â”œâ”€â”€ babysecure         â† ç”¨æˆ·ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ ä½œç”¨ï¼šç”¨æˆ·è®¤è¯ã€æƒé™ç®¡ç†
â”‚   â”œâ”€â”€ APIï¼š/api/v1/users
â”‚   â””â”€â”€ æ•°æ®åº“è¡¨ï¼šbaby_license
â”‚
â”œâ”€â”€ babymain           â† å•†å®¶ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ ä½œç”¨ï¼šå•†å®¶ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ APIï¼š/api/v3/seller
â”‚   â””â”€â”€ æ•°æ®åº“è¡¨ï¼šseller
â”‚
â”œâ”€â”€ babysecure-api     â† API å®šä¹‰æ¨¡å—
â”‚   â”œâ”€â”€ ä½œç”¨ï¼šæ¥å£å®šä¹‰å’Œå¸¸é‡
â”‚   â””â”€â”€ åŒ…å«ï¼šSecureApiConstants
â”‚
â””â”€â”€ babycommon         â† å…¬å…±æ¨¡å—
    â”œâ”€â”€ ä½œç”¨ï¼šé€šç”¨å·¥å…·å’Œç»„ä»¶
    â”œâ”€â”€ åŒ…å«ï¼šBaseMapper, BaseService, APIResult, PageResult
    â””â”€â”€ æ•°æ®åº“è¡¨ï¼šbaby_license
```

### 3.2 åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Controller å±‚                        â”‚  â† æ¥æ”¶ HTTP è¯·æ±‚
â”‚  @RestController                      â”‚
â”‚  - å®šä¹‰ REST API æ¥å£                 â”‚
â”‚  - å‚æ•°æ ¡éªŒ                           â”‚
â”‚  - è¿”å›ç»Ÿä¸€å“åº”æ ¼å¼ APIResult         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Service å±‚ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰               â”‚  â† å¤„ç†ä¸šåŠ¡é€»è¾‘
â”‚  @Service                            â”‚
â”‚  - ä¸šåŠ¡é€»è¾‘å¤„ç†                       â”‚
â”‚  - äº‹åŠ¡ç®¡ç†                           â”‚
â”‚  - Entity å’Œ DTO è½¬æ¢                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mapper å±‚ï¼ˆæ•°æ®è®¿é—®ï¼‰                â”‚  â† è®¿é—®æ•°æ®åº“
â”‚  @MapperScan                         â”‚
â”‚  - MyBatis æ¥å£                       â”‚
â”‚  - SQL æ³¨è§£æˆ– XML æ˜ å°„                â”‚
â”‚  - CRUD æ“ä½œ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MySQL æ•°æ®åº“                         â”‚  â† æ•°æ®å­˜å‚¨
â”‚  - baby_license                      â”‚
â”‚  - seller                            â”‚
â”‚  - department                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ å››ã€æ•°æ®åº“é…ç½®

### 4.1 æ•°æ®åº“ä¿¡æ¯

| é…ç½®é¡¹ | å€¼ | è¯´æ˜ |
|--------|-----|------|
| **æ•°æ®åº“ç±»å‹** | MySQL 8.0.26 | å…³ç³»å‹æ•°æ®åº“ |
| **æ•°æ®åº“åç§°** | wjb | ä¼ä¸šç³»ç»Ÿæ•°æ®åº“ |
| **é»˜è®¤ç«¯å£** | 3306 | MySQL é»˜è®¤ç«¯å£ |
| **å­—ç¬¦é›†** | utf8mb4 | æ”¯æŒ Emoji å’Œç‰¹æ®Šå­—ç¬¦ |
| **å¼•æ“** | InnoDB | æ”¯æŒäº‹åŠ¡å’Œå¤–é”® |

### 4.2 æ•°æ®åº“è¿æ¥é…ç½®

**æ³¨æ„**ï¼šæ•°æ®åº“è¿æ¥ä¿¡æ¯é…ç½®åœ¨ **Nacos é…ç½®ä¸­å¿ƒ**ï¼Œä¸åœ¨æœ¬åœ°é…ç½®æ–‡ä»¶ä¸­ã€‚

#### ğŸ“ Nacos é…ç½®æ­¥éª¤

**1. ç™»å½• Nacos æ§åˆ¶å°**

```
è®¿é—®åœ°å€ï¼šhttp://localhost:8848/nacos
é»˜è®¤è´¦å·ï¼šnacos
é»˜è®¤å¯†ç ï¼šnacos
```

**2. åˆ›å»ºå‘½åç©ºé—´**

```
å‘½åç©ºé—´ IDï¼šdev
å‘½åç©ºé—´åç§°ï¼šå¼€å‘ç¯å¢ƒ
```

**3. åœ¨ Nacos ä¸­é…ç½®æ•°æ®åº“è¿æ¥**

åœ¨ `dev` å‘½åç©ºé—´ä¸‹åˆ›å»ºé…ç½®ï¼š

```yaml
# Data ID: babysecure.yml æˆ– babymain.yml
# Group: DEFAULT_GROUP

spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/wjb?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: 19970920
```

### 4.3 æ•°æ®åº“è¡¨ç»“æ„

#### **è¡¨ 1ï¼šsellerï¼ˆå•†å®¶è¡¨ï¼‰**

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | çº¦æŸ |
|--------|------|------|------|
| id | INT | å•†å®¶ID | ä¸»é”®ï¼Œè‡ªå¢ |
| code | VARCHAR(50) | å•†å®¶ä»£ç  | éç©ºï¼Œå”¯ä¸€ |
| name | VARCHAR(100) | å•†å®¶åç§° | éç©º |
| create_time | TIMESTAMP | åˆ›å»ºæ—¶é—´ | é»˜è®¤å½“å‰æ—¶é—´ |
| update_time | TIMESTAMP | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨æ›´æ–° |

#### **è¡¨ 2ï¼šbaby_licenseï¼ˆç³»ç»Ÿæˆæƒè¡¨ï¼‰**

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | çº¦æŸ |
|--------|------|------|------|
| c_id | INT(11) | ä¸»é”®ID | ä¸»é”®ï¼Œè‡ªå¢ |
| c_system | VARCHAR(255) | ç³»ç»Ÿåç§° | éç©º |
| c_key | VARCHAR(255) | å”¯ä¸€æˆæƒID | éç©º |
| c_license | TEXT | æ–‡ä»¶å†…å®¹ | å¯ç©º |

#### **è¡¨ 3ï¼šdepartmentï¼ˆéƒ¨é—¨è¡¨ï¼‰**

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | çº¦æŸ |
|--------|------|------|------|
| id | INT | éƒ¨é—¨ID | ä¸»é”®ï¼Œè‡ªå¢ |
| code | VARCHAR(50) | éƒ¨é—¨ç¼–ç  | éç©ºï¼Œå”¯ä¸€ |
| name | VARCHAR(100) | éƒ¨é—¨åç§° | éç©º |
| parent_id | INT | çˆ¶éƒ¨é—¨ID | å¯ç©º |
| status | INT | éƒ¨é—¨çŠ¶æ€ | é»˜è®¤1ï¼ˆå¯ç”¨ï¼‰ |
| sort_order | INT | æ’åºå· | é»˜è®¤0 |
| create_time | TIMESTAMP | åˆ›å»ºæ—¶é—´ | é»˜è®¤å½“å‰æ—¶é—´ |
| update_time | TIMESTAMP | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨æ›´æ–° |

---

## âš™ï¸ äº”ã€Nacos é…ç½®è¯¦è§£

### 5.1 Nacos æœåŠ¡å™¨

| é…ç½®é¡¹ | å€¼ | è¯´æ˜ |
|--------|-----|------|
| **æœåŠ¡å™¨åœ°å€** | localhost:8848 | Nacos æœåŠ¡åœ°å€ |
| **å‘½åç©ºé—´** | dev | å¼€å‘ç¯å¢ƒéš”ç¦» |
| **åˆ†ç»„** | DEFAULT_GROUP | é»˜è®¤åˆ†ç»„ |

### 5.2 Bootstrap é…ç½®ï¼ˆbootstrap.ymlï¼‰

æ¯ä¸ªä¸šåŠ¡æ¨¡å—éƒ½éœ€è¦ `bootstrap.yml` æ–‡ä»¶ï¼Œç”¨äºåœ¨å¯åŠ¨æ—¶åŠ è½½ Nacos é…ç½®ã€‚

#### **babymain æ¨¡å—é…ç½®**

```yaml
spring:
  cloud:
    nacos:
      config:
        server-addr: localhost:8848  # Nacos æœåŠ¡å™¨åœ°å€
        namespace: dev                # å‘½åç©ºé—´ ID
        name: babymain                # é…ç½®æ–‡ä»¶çš„ Data ID
        file-extension: yml           # é…ç½®æ–‡ä»¶æ ¼å¼
        group: DEFAULT_GROUP          # åˆ†ç»„
      discovery:
        server-addr: localhost:8848   # æœåŠ¡å‘ç°åœ°å€
        namespace: dev                # å‘½åç©ºé—´
  application:
    name: babymain                    # åº”ç”¨åç§°
  profiles:
    active: dev                       # æ¿€æ´»çš„é…ç½®æ–‡ä»¶
```

#### **babysecure æ¨¡å—é…ç½®**

```yaml
spring:
  cloud:
    nacos:
      config:
        server-addr: localhost:8848
        namespace: dev
        name: babysecure
        file-extension: yml
        group: DEFAULT_GROUP
      discovery:
        server-addr: localhost:8848
        namespace: dev
  application:
    name: babysecure
  profiles:
    active: dev
```

### 5.3 å¯åŠ¨é¡ºåº

**é‡è¦**ï¼šå¿…é¡»å…ˆå¯åŠ¨ Nacosï¼Œå†å¯åŠ¨åº”ç”¨ï¼

```
1. å¯åŠ¨ MySQL æœåŠ¡
   â†“
2. å¯åŠ¨ Nacos æœåŠ¡å™¨
   â†“
3. åœ¨ Nacos ä¸­é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯
   â†“
4. å¯åŠ¨ Spring Boot åº”ç”¨ï¼ˆbabystartï¼‰
```

---

## ğŸš€ å…­ã€é¡¹ç›®æ„å»ºå’Œè¿è¡Œ

### 6.1 å…‹éš†é¡¹ç›®

```bash
cd /path/to/EnterpriseSystem
```

### 6.2 ç¼–è¯‘é¡¹ç›®

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
mvn clean install

# æˆ–è€…è·³è¿‡æµ‹è¯•
mvn clean install -DskipTests
```

#### â±ï¸ é¢„è®¡ç¼–è¯‘æ—¶é—´

- é¦–æ¬¡ç¼–è¯‘ï¼šçº¦ 3-5 åˆ†é’Ÿï¼ˆéœ€è¦ä¸‹è½½ä¾èµ–ï¼‰
- åç»­ç¼–è¯‘ï¼šçº¦ 30-60 ç§’

#### â— å¸¸è§ç¼–è¯‘é—®é¢˜

**é—®é¢˜ 1ï¼šä¾èµ–ä¸‹è½½å¤±è´¥**

```bash
# æ¸…ç†å¹¶é‡æ–°ç¼–è¯‘
mvn clean install -U

# -U å‚æ•°å¼ºåˆ¶æ›´æ–°ä¾èµ–
```

**é—®é¢˜ 2ï¼šç¼–è¯‘é”™è¯¯**

```bash
# æ¸…ç† Maven ç¼“å­˜
rm -rf ~/.m2/repository

# é‡æ–°ç¼–è¯‘
mvn clean install
```

### 6.3 å¯åŠ¨åº”ç”¨

#### **æ–¹å¼ 1ï¼šä½¿ç”¨ Maven å¯åŠ¨**

```bash
cd babystart
mvn spring-boot:run
```

#### **æ–¹å¼ 2ï¼šä½¿ç”¨ IDE å¯åŠ¨**

1. åœ¨ IntelliJ IDEA ä¸­æ‰“å¼€é¡¹ç›®
2. æ‰¾åˆ° `BabyStartApplication.java`
3. å³é”® â†’ Run 'BabyStartApplication'

#### **æ–¹å¼ 3ï¼šæ‰“åŒ…åå¯åŠ¨**

```bash
# æ‰“åŒ…
mvn clean package

# è¿è¡Œ
cd babystart/target
java -jar babystart-1.0.0.jar
```

### 6.4 éªŒè¯å¯åŠ¨æˆåŠŸ

å¯åŠ¨æˆåŠŸåï¼Œä¼šçœ‹åˆ°ç±»ä¼¼çš„æ—¥å¿—ï¼š

```log
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::               (v2.7.18)

2024-12-31 15:30:00.123  INFO 12345 --- [main] c.e.b.BabyStartApplication               : Started BabyStartApplication in 8.234 seconds
```

è®¿é—® `http://localhost:8080`ï¼Œå¦‚æœè¿”å› 404 æˆ–é”™è¯¯é¡µé¢ï¼ˆä½†æ²¡æœ‰è¿æ¥æ‹’ç»ï¼‰ï¼Œè¯´æ˜åº”ç”¨å·²å¯åŠ¨ã€‚

---

## ğŸ”Œ ä¸ƒã€API æ¥å£æ–‡æ¡£

### 7.1 API ç‰ˆæœ¬è¯´æ˜

é¡¹ç›®ä½¿ç”¨ API ç‰ˆæœ¬æ§åˆ¶ï¼Œä¸åŒæ¨¡å—ä½¿ç”¨ä¸åŒçš„ç‰ˆæœ¬å‰ç¼€ï¼š

| ç‰ˆæœ¬ | è·¯å¾„å‰ç¼€ | æ¨¡å— | è¯´æ˜ |
|------|---------|------|------|
| v1 | /api/v1 | babysecure | ç”¨æˆ·ç®¡ç† |
| v3 | /api/v3 | babymain | å•†å®¶ç®¡ç† |
| v4 | /api/v4 | é¢„ç•™ | æ‰©å±•æ¨¡å— |

### 7.2 ç»Ÿä¸€å“åº”æ ¼å¼

æ‰€æœ‰ API è¿”å›ç»Ÿä¸€çš„ `APIResult` æ ¼å¼ï¼š

```json
{
  "code": 200,           // çŠ¶æ€ç 
  "message": "æˆåŠŸ",      // æ¶ˆæ¯
  "data": {...},         // å®é™…æ•°æ®
  "timestamp": 1234567890 // æ—¶é—´æˆ³
}
```

### 7.3 å•†å®¶ç®¡ç† APIï¼ˆbabymainï¼‰

| åŠŸèƒ½ | æ–¹æ³• | URL | è¯´æ˜ |
|------|------|-----|------|
| åˆ›å»ºå•†å®¶ | POST | /api/v3/seller | æ·»åŠ æ–°å•†å®¶ |
| æŸ¥è¯¢å•†å®¶åˆ—è¡¨ | GET | /api/v3/seller | åˆ†é¡µæŸ¥è¯¢å•†å®¶ |

**è¯·æ±‚ç¤ºä¾‹**ï¼š

```bash
# åˆ›å»ºå•†å®¶
POST http://localhost:8080/api/v3/seller
Content-Type: application/x-www-form-urlencoded

code=SELLER001&name=æµ‹è¯•å•†å®¶

# æŸ¥è¯¢å•†å®¶
GET http://localhost:8080/api/v3/seller?page=1&size=10
```

### 7.4 éƒ¨é—¨ç®¡ç† APIï¼ˆbabysecureï¼‰

| åŠŸèƒ½ | æ–¹æ³• | URL | è¯´æ˜ |
|------|------|-----|------|
| åˆ›å»ºéƒ¨é—¨ | POST | /api/v1/department | æ·»åŠ æ–°éƒ¨é—¨ |
| æ›´æ–°éƒ¨é—¨ | PUT | /api/v1/department | æ›´æ–°éƒ¨é—¨ä¿¡æ¯ |
| åˆ é™¤éƒ¨é—¨ | DELETE | /api/v1/department/{id} | åˆ é™¤æŒ‡å®šéƒ¨é—¨ |
| æ‰¹é‡åˆ é™¤ | DELETE | /api/v1/department/batch | æ‰¹é‡åˆ é™¤éƒ¨é—¨ |
| æŸ¥è¯¢å•ä¸ªéƒ¨é—¨ | GET | /api/v1/department/{id} | æ ¹æ® ID æŸ¥è¯¢ |
| æŸ¥è¯¢éƒ¨é—¨åˆ—è¡¨ | GET | /api/v1/department/list | æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨ |
| æŸ¥è¯¢éƒ¨é—¨æ ‘ | GET | /api/v1/department/tree | è·å–æ ‘å½¢ç»“æ„ |
| æŸ¥è¯¢å­éƒ¨é—¨ | GET | /api/v1/department/children | æ ¹æ®çˆ¶IDæŸ¥è¯¢å­éƒ¨é—¨ |
| æŒ‰ç¼–ç æŸ¥è¯¢ | GET | /api/v1/department/byCode | æ ¹æ®ç¼–ç æŸ¥è¯¢ |
| ç»Ÿè®¡éƒ¨é—¨ | GET | /api/v1/department/count | ç»Ÿè®¡éƒ¨é—¨æ•°é‡ |

**è¯·æ±‚ç¤ºä¾‹**ï¼š

```bash
# åˆ›å»ºéƒ¨é—¨
POST http://localhost:8080/api/v1/department
Content-Type: application/json

{
  "code": "DEPT001",
  "name": "æŠ€æœ¯éƒ¨",
  "parentId": null,
  "status": 1,
  "sortOrder": 1
}

# æŸ¥è¯¢éƒ¨é—¨æ ‘
GET http://localhost:8080/api/v1/department/tree
```

---

## ğŸ› ï¸ å…«ã€å¼€å‘è§„èŒƒ

### 8.1 å‘½åè§„èŒƒ

| ç±»å‹ | å‘½åè§„åˆ™ | ç¤ºä¾‹ |
|------|---------|------|
| **Controller** | *Controller | DepartmentController |
| **Service** | *Serviceï¼ˆæ¥å£ï¼‰ | DepartmentService |
| **ServiceImpl** | *ServiceImplï¼ˆå®ç°ç±»ï¼‰ | DepartmentServiceImpl |
| **Mapper** | *Mapper | DepartmentMapper |
| **Entity** | *Entity | DepartmentEntity |
| **DTO** | *Dto | DepartmentDto |
| **åŒ…å** | å…¨å°å†™ | com.enterprisesystem.babysecure |

### 8.2 ä»£ç è§„èŒƒ

1. **ä½¿ç”¨ Lombok ç®€åŒ–ä»£ç **
   ```java
   @Data  // è‡ªåŠ¨ç”Ÿæˆ getter/setter
   @NoArgsConstructor  // æ— å‚æ„é€ 
   @AllArgsConstructor  // å…¨å‚æ„é€ 
   public class DepartmentEntity {
       private Integer id;
       private String name;
   }
   ```

2. **ä½¿ç”¨ @Resource æ³¨å…¥**
   ```java
   @Resource
   private DepartmentService departmentService;
   ```

3. **ä½¿ç”¨ RESTful é£æ ¼**
   ```java
   @PostMapping      // åˆ›å»º
   @GetMapping       // æŸ¥è¯¢
   @PutMapping       // æ›´æ–°
   @DeleteMapping    // åˆ é™¤
   ```

### 8.3 Mapper æ‰«æé…ç½®

**é‡è¦**ï¼šå¯åŠ¨ç±»éœ€è¦é…ç½®æ‰€æœ‰æ¨¡å—çš„ Mapper æ‰«æè·¯å¾„ã€‚

```java
@MapperScan({
    "com.enterprisesystem.babymain.mapper",
    "com.enterprisesystem.babysecure.mapper"
})
public class BabyStartApplication {
    // ...
}
```

---

## âš ï¸ ä¹ã€å¸¸è§é—®é¢˜è§£å†³

### Q1: å¯åŠ¨æ—¶æŠ¥é”™ "Could not found Nacos server"

**åŸå› **ï¼šNacos æœåŠ¡å™¨æœªå¯åŠ¨

**è§£å†³æ–¹æ³•**ï¼š
```bash
# å¯åŠ¨ Nacos
cd nacos/bin
sh startup.sh -m standalone

# éªŒè¯ Nacos æ˜¯å¦å¯åŠ¨
curl http://localhost:8848/nacos/
```

### Q2: æ•°æ®åº“è¿æ¥å¤±è´¥

**åŸå› **ï¼š
1. MySQL æœªå¯åŠ¨
2. Nacos ä¸­æœªé…ç½®æ•°æ®åº“è¿æ¥
3. æ•°æ®åº“ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯

**è§£å†³æ–¹æ³•**ï¼š
```bash
# 1. æ£€æŸ¥ MySQL æ˜¯å¦å¯åŠ¨
mysql -u root -p

# 2. æ£€æŸ¥ Nacos é…ç½®
# ç™»å½• Nacos æ§åˆ¶å° â†’ é…ç½®ç®¡ç† â†’ æŸ¥çœ‹ babysecure.yml æˆ– babymain.yml

# 3. éªŒè¯æ•°æ®åº“è¿æ¥
mysql -u root -p -h localhost -P 3306 wjb
```

### Q3: Mapper æ‰«æä¸åˆ°

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Required a bean of type 'xxxMapper' that could not be found
```

**è§£å†³æ–¹æ³•**ï¼š
æ£€æŸ¥ `BabyStartApplication.java` ä¸­çš„ `@MapperScan` æ˜¯å¦åŒ…å«è¯¥æ¨¡å—çš„ mapper åŒ…ã€‚

### Q4: ç«¯å£ 8080 è¢«å ç”¨

**è§£å†³æ–¹æ³•**ï¼š
```bash
# ä¿®æ”¹ application.yml ä¸­çš„ç«¯å£
server:
  port: 8081
```

### Q5: ç¼–è¯‘æ—¶æŠ¥é”™ "ä¸æ”¯æŒçš„å‘è¡Œç‰ˆæœ¬ 8"

**åŸå› **ï¼šMaven ä½¿ç”¨çš„ JDK ç‰ˆæœ¬ä¸æ˜¯ 8

**è§£å†³æ–¹æ³•**ï¼š
```bash
# æ£€æŸ¥ JAVA_HOME
echo $JAVA_HOME

# ç¡®ä¿ä½¿ç”¨ JDK 8
export JAVA_HOME=/path/to/jdk8
```

---

## ğŸ“ åã€å¼€å‘æ£€æŸ¥æ¸…å•

åœ¨å¼€å§‹å¼€å‘å‰ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] âœ… å·²å®‰è£… JDK 8
- [ ] âœ… å·²å®‰è£… Maven 3.6+
- [ ] âœ… å·²å®‰è£… MySQL 8.0.26
- [ ] âœ… å·²åˆ›å»ºæ•°æ®åº“ `wjb`
- [ ] âœ… å·²å®‰è£…å¹¶å¯åŠ¨ Nacos æœåŠ¡å™¨
- [ ] âœ… å·²åœ¨ Nacos ä¸­é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯
- [ ] âœ… å·²æ‰§è¡Œ `schema.sql` åˆ›å»ºæ•°æ®è¡¨
- [ ] âœ… å·²è¿è¡Œ `mvn clean install` ç¼–è¯‘é¡¹ç›®
- [ ] âœ… èƒ½æˆåŠŸå¯åŠ¨åº”ç”¨å¹¶è®¿é—® `http://localhost:8080`

---

## ğŸ“š åä¸€ã€æ‰©å±•é˜…è¯»

### 11.1 ç›¸å…³æ–‡æ¡£

- [Spring Boot å®˜æ–¹æ–‡æ¡£](https://spring.io/projects/spring-boot)
- [MyBatis å®˜æ–¹æ–‡æ¡£](https://mybatis.org/mybatis-3/zh/)
- [Nacos å®˜æ–¹æ–‡æ¡£](https://nacos.io/zh-cn/)
- [Spring Cloud Alibaba æ–‡æ¡£](https://github.com/alibaba/spring-cloud-alibaba)

### 11.2 æ¨èå·¥å…·

- **IDE**ï¼šIntelliJ IDEA
- **API æµ‹è¯•**ï¼šApifoxã€Postman
- **æ•°æ®åº“ç®¡ç†**ï¼šNavicatã€DBeaver
- **Nacos ç®¡ç†**ï¼šNacos æ§åˆ¶å°

---

**ç¥å¼€å‘é¡ºåˆ©ï¼ğŸ‰**

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æœ¬æ–‡æ¡£çš„"å¸¸è§é—®é¢˜è§£å†³"éƒ¨åˆ†ï¼Œæˆ–æŸ¥é˜…ç›¸å…³æŠ€æœ¯æ–‡æ¡£ã€‚
